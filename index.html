<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PiNotes</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script type="importmap">
    {
      "imports": {
        "marked": "https://cdn.jsdelivr.net/npm/marked@4.3.0/lib/marked.esm.js",
        "dompurify": "https://cdn.jsdelivr.net/npm/dompurify@3.0.3/dist/purify.es.js"
      }
    }
  </script>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìù</text></svg>">
</head>
<body>
  <div class="app-container">
    <div class="sidebar">
      <div class="sidebar-header">
        <h1>PiNotes</h1>
        <button id="new-note-btn" class="action-btn"><i class="fas fa-plus"></i></button>
        <button id="search-btn" class="action-btn"><i class="fas fa-search"></i></button>
      </div>
      <div id="search-container" class="search-container hidden">
        <input type="text" id="search-input" placeholder="Search notes...">
      </div>
      <div class="notes-list" id="notes-list">
        <!-- Notes will be listed here dynamically -->
      </div>
    </div>
    
    <div class="main-content">
      <div class="note-toolbar">
        <div class="left-tools">
          <button id="back-btn" class="tool-btn"><i class="fas fa-arrow-left"></i></button>
          <span id="last-edited">Last edited: Just now</span>
        </div>
        <div class="right-tools">
          <button id="preview-btn" class="tool-btn"><i class="fas fa-eye"></i></button>
          <button id="favorite-btn" class="tool-btn"><i class="far fa-star"></i></button>
          <div class="dropdown">
            <button id="more-btn" class="tool-btn"><i class="fas fa-ellipsis-v"></i></button>
            <div id="more-dropdown" class="dropdown-content">
              <a href="#" id="export-note">Export Note</a>
              <a href="#" id="share-note">Share Note</a>
              <a href="#" id="delete-note">Delete Note</a>
              <a href="#" id="change-color">Change Color</a>
            </div>
          </div>
        </div>
      </div>
      
      <div id="note-editor" class="note-editor">
        <input type="text" id="note-title" placeholder="Note Title">
        <div class="editor-container">
          <textarea id="note-content" placeholder="Start typing your note..."></textarea>
          <div id="preview-content" class="preview-content hidden"></div>
        </div>
      </div>

      <div id="color-palette" class="color-palette hidden">
        <span class="color-option" data-color="#ffffff"></span>
        <span class="color-option" data-color="#f8e9a1"></span>
        <span class="color-option" data-color="#f76c6c"></span>
        <span class="color-option" data-color="#a8d8ea"></span>
        <span class="color-option" data-color="#a8e6cf"></span>
        <span class="color-option" data-color="#dab6fc"></span>
      </div>
    </div>
  </div>

  <!-- Welcome screen for new users -->
  <div id="welcome-screen" class="welcome-screen hidden">
    <div class="welcome-content">
      <h2>Welcome to PiNotes!</h2>
      <p>Your personal notes companion that helps you organize your thoughts.</p>
      <div class="features">
        <div class="feature">
          <i class="fas fa-markdown"></i>
          <span>Markdown Support</span>
        </div>
        <div class="feature">
          <i class="fas fa-palette"></i>
          <span>Colorful Notes</span>
        </div>
        <div class="feature">
          <i class="fas fa-search"></i>
          <span>Instant Search</span>
        </div>
        <div class="feature">
          <i class="fas fa-star"></i>
          <span>Favorites</span>
        </div>
      </div>
      <button id="get-started-btn">Get Started</button>
    </div>
  </div>

  <!-- Confirmation modal for deleting notes -->
  <div id="delete-modal" class="modal hidden">
    <div class="modal-content">
      <h3>Delete Note</h3>
      <p>Are you sure you want to delete this note? This action cannot be undone.</p>
      <div class="modal-buttons">
        <button id="cancel-delete-btn">Cancel</button>
        <button id="confirm-delete-btn">Delete</button>
      </div>
    </div>
  </div>

  <!-- Toast notification system -->
  <div id="toast-container"></div>

  <script type="module" src="app.js"></script>
</body>
</html>